<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MinSU Bongabong Campus Room Management System</title>
  <link rel="stylesheet" href="/tailwind.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Montserrat', sans-serif;
    }
    .sidebar {
      background-color: #2C5D2B; /* Dark Green */
    }
    .sidebar-item.active {
      background-color: #F4B400; /* Gold */
      color: #2C5D2B; /* Dark Green text on active */
    }
    .sidebar-item.active svg {
      fill: #2C5D2B; /* Dark Green icon on active */
    }
    .topbar {
      background-color: #FFFFFF; /* White */
      border-bottom: 1px solid #e5e7eb; /* Light gray border */
    }
    .btn-primary {
      background-color: #2C5D2B; /* Dark Green */
      color: #FFFFFF;
      border-radius: 0.75rem;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }
    .btn-primary:hover {
      background-color: #3a7a39; /* Slightly lighter green */
      box-shadow: 0 4px 10px rgba(44, 93, 43, 0.4); /* Green glow */
    }
    .card {
      background-color: #FFFFFF;
      border-radius: 0.75rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
    }
    .badge-available {
      background-color: #76A743; /* Light Green */
      color: #FFFFFF;
    }
    .badge-occupied {
      background-color: #EF4444; /* Red */
      color: #FFFFFF;
    }
    .text-gold {
      color: #F4B400;
    }
    .bg-dark-green {
      background-color: #2C5D2B;
    }
    .text-dark-green {
      color: #2C5D2B;
    }
    .bg-light-green {
      background-color: #76A743;
    }
    .text-light-green {
      color: #76A743;
    }
    .bg-earth-brown {
      background-color: #7B4F2A;
    }
    .text-earth-brown {
      color: #7B4F2A;
    }
    .bg-sky-blue {
      background-color: #4FA9E2;
    }
    .text-sky-blue {
      color: #4FA9E2;
    }
  </style>
</head>
<body class="bg-gray-100 flex">
  <!-- Sidebar -->
  <aside class="sidebar w-64 min-h-screen p-4 text-white flex flex-col">
    <div class="text-2xl font-bold text-center mb-8 text-gold">MinSU RMS</div>
    <nav class="flex-grow">
      <ul>
        <li class="mb-2">
          <a href="/dashboard" class="sidebar-item flex items-center p-3 rounded-lg hover:bg-gold hover:text-dark-green transition-colors duration-200 {{#ifEquals activePage 'dashboard'}}active{{/ifEquals}}">
            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg>
            Dashboard
          </a>
        </li>
        <li class="mb-2">
          <a href="/colleges" class="sidebar-item flex items-center p-3 rounded-lg hover:bg-gold hover:text-dark-green transition-colors duration-200 {{#ifEquals activePage 'colleges'}}active{{/ifEquals}}">
            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 110-6 3 3 0 010 6z"></path></svg>
            Colleges
          </a>
        </li>
        <li class="mb-2">
          <a href="/buildings" class="sidebar-item flex items-center p-3 rounded-lg hover:bg-gold hover:text-dark-green transition-colors duration-200 {{#ifEquals activePage 'buildings'}}active{{/ifEquals}}">
            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path></svg>
            Buildings
          </a>
        </li>
        <li class="mb-2">
          <a href="/rooms" class="sidebar-item flex items-center p-3 rounded-lg hover:bg-gold hover:text-dark-green transition-colors duration-200 {{#ifEquals activePage 'rooms'}}active{{/ifEquals}}">
            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 110-6 3 3 0 010 6z"></path></svg>
            Rooms
          </a>
        </li>
        <li class="mb-2">
          <a href="/schedules" class="sidebar-item flex items-center p-3 rounded-lg hover:bg-gold hover:text-dark-green transition-colors duration-200 {{#ifEquals activePage 'schedules'}}active{{/ifEquals}}">
            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg>
            Schedules
          </a>
        </li>
      </ul>
    </nav>
    <div class="mt-auto">
      <a href="/logout" class="sidebar-item flex items-center p-3 rounded-lg hover:bg-gold hover:text-dark-green transition-colors duration-200">
        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd"></path></svg>
        Logout
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="flex-1 flex flex-col">
    <!-- Topbar -->
    <header class="topbar p-4 flex justify-between items-center shadow-sm">
      <div class="text-lg font-semibold text-dark-green">
        {{#if breadcrumbs}}
          {{#each breadcrumbs}}
            <a href="{{this.url}}" class="text-dark-green hover:text-gold">{{this.name}}</a>
            {{#unless @last}}
              <span class="mx-2">/</span>
            {{/unless}}
          {{/each}}
        {{else}}
          Dashboard
        {{/if}}
      </div>
      <div class="flex items-center">
        <span class="mr-4 text-dark-green">Welcome, User!</span>
        <div class="relative">
          <button class="flex items-center text-dark-green focus:outline-none">
            <img class="h-8 w-8 rounded-full object-cover" src="https://via.placeholder.com/150" alt="User Avatar">
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
          </button>
          <!-- Dropdown menu (hidden by default) -->
          <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-20 hidden">
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Manage Account</a>
            <a href="/logout" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Page Content -->
    <main class="flex-1 p-8">
      {{{body}}}
    </main>

    {{> footer }}
  </div>

  <script>
    // Simple dropdown toggle for user profile
    const userDropdownButton = document.querySelector('.topbar button');
    const userDropdownMenu = document.querySelector('.topbar .absolute');

    if (userDropdownButton && userDropdownMenu) {
      userDropdownButton.addEventListener('click', () => {
        userDropdownMenu.classList.toggle('hidden');
      });

      // Close dropdown if clicked outside
      window.addEventListener('click', (event) => {
        if (!userDropdownButton.contains(event.target) && !userDropdownMenu.contains(event.target)) {
          userDropdownMenu.classList.add('hidden');
        }
      });
    }
  </script>
</body>
</html>
